<div class="row store-cart">
  <div class="col-xs-12">
    <table class="table">
      <thead>
      <tr>
        <th>&nbsp;</th>
        <th class="text-right">Unit Price</th>
        <th class="text-right">Qty</th>
      </tr>
      </thead>
      <tbody>
      <!-- cart items -->
      <tr ng-hide="cartLoaded">
        <td colspan="3">
          <div class="cart-item-info">
            Loading cart...
          </div>
        </td>
      </tr>
      <tr ng-show="cartLoaded">
        <td colspan="3">
          <div class="cart-item-info" ng-if="items.length == 0">
            There are currently no items in your cart.
          </div>
        </td>
      </tr>
      <tr ng-show="cartLoaded" ng-repeat="item in items" ng-if="items.length > 0">
        <td>
          <div class="cart-item-info">
            <a ng-href="{{STORE_BASE_URL}}/products/{{item.product.sku}}#top" class="col-xs-5 col-sm-3 col-md-2 col-lg-2"
               ng-if="item.product.type != 'group'">
              <img class="img-responsive cart-item-image" ng-src="{{getImagePath(item.product.images[0].imagePath)}}" onError="this.onerror=null;this.src='/img/product_placeholder.gif';">
            </a>
            <a ng-href="{{STORE_BASE_URL}}/products/{{item.product.sku}}#top" class="col-xs-5 col-sm-3 col-md-2 col-lg-2"
               ng-if="item.product.type == 'group'">
              <img class="img-responsive cart-item-image" ng-src="{{getImagePath(item.product.images[0].imagePath)}}" onError="this.onerror=null;this.src='/img/product_placeholder.gif';">
            </a>

            <div class="col-sm-9 col-md-8 col-lg-8">
              <h3>
                <a ng-href="{{STORE_BASE_URL}}/products/{{item.product.sku}}#top">{{item.product.name}}</a>
              </h3>

              <p><label>{{item.product.sku}}</label></p>

              <p ng-if="item.kitSelections != null">This kit includes:</p>
              <ul ng-if="item.kitSelections != null">
                <li ng-repeat="(kitId, kitProduct) in item.kitSelections">
                  {{kitProduct.name}} #{{kitProduct.sku}}
                </li>
              </ul>
              <p class="cart-item-actions">
                <a ng-if="item.product.type == 'kit'" class="btn btn-primary btn-lg" ng-click="configureKit(item)">
                  <i class="fa fa-cogs"></i> Configure
                </a>
                &nbsp;&nbsp;
                <a ng-click="removeFromCart(item.product)"><i class="fa fa-times"></i> remove</a>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <!-- <a href="#"><i class="fa fa-pencil-square-o"></i> make changes</a> TODO: Load this for kits & groups -->
              </p>
            </div>
          </div>
        </td>
        <td class="text-right">
          <span ng-repeat="detailprice in item.product.prices[0]">
            <span ng-if="detailprice.type==2" class="item-price-sale">
              {{detailprice.price | currency}}
            </span>
            <span ng-if="detailprice.type==1" class="item-price-strike">
              {{detailprice.price | currency}}
            </span>
          </span>
          <span ng-if="item.product.prices[0].price">
            <span class="item-price">
              {{item.product.prices[0].price | currency}}
            </span>
          </span>


          <!--            <p class="cart-item-price">
                        <b>${{item.product.pricing.detailprice.price}}</b>
                         <em>50% off</em> TODO: Add logic for sale prices
                      </p>-->
        </td>
        <td align=right>
          <!-- TODO: Compute each item.product Qty. -->
          <p>
            <form name="item.product{{item.product.sku}}" role="form" class="form-inline store-item-add">
              <div class="form-group">
                <input type="number" class="form-control qty-input" ng-model="item.quantity" value="{{item.quantity}}">
              </div>
            </form>
          </p>

          <!--<input ng-model="quantities[item.product.sku]" ng-keyup="addToCart(item.product)" type="integer" class="form-control qty-input" id="qty12345" value="{{item.product.quantity}}">-->
        </td>
      </tr>
      <!--/table row-->

      </tbody>
    </table>
  </div>
</div><!-- /row -->

<hr>

<div class="row">
  <div class="col-lg-12">
    <p class="text-right">
      <label class="cart-subtotal"><span>SUB-TOTAL BEFORE TAX &amp; SHIPPING:</span> {{total() | currency}}</label>
    </p>
  </div>
</div><!-- /row -->

<div class="row">
  <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
    <a href="javascript:history.go(-1)" class="btn btn-link"><i class="fa fa-angle-left"></i> Continue Shopping</a>
  </div>
  <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" ng-if="items.length > 0">
    <a href="{{STORE_BASE_URL}}/checkout#top" class="btn btn-primary btn-lg pull-right">Checkout Now <i class="fa fa-angle-right"></i></a>
  </div>
</div><!-- /row -->


<div class="row store-cart-orderbyid" id="additem">
  <div class="col-xs-12">
    <h2>Order by item # or description</h2>

    <form class="form-inline" role="form">
      <div class="form-group">
        <label class="" for="orderByIdQty">Qty:</label>
        <input type="number" class="form-control qty-input" id="orderByIdQty" ng-model="orderByIdQty" placeholder="1"
               value="1">
      </div>
      <div class="form-group">
        &nbsp;&nbsp;&nbsp;&nbsp;
        <label class="" for="orderByIdItem">Item:</label>
        <autocomplete ng-model="orderByIdItem" data="searchProductsList" on-type="searchProducts" attr-id="orderByIdItemDiv" attr-input-id="orderByIdItem" attr-input-class="form-control" attr-placeholder="product name"></autocomplete>
      </div>
      <button type="submit" class="btn btn-default" ng-click="addToCart()">Add to Cart</button>
    </form>
  </div>
</div><!-- /row -->

<br>

<!--   <div ng-repeat="product in products">
    <b>Item #:</b> {{product.sku}}<br>
    <b>Name:</b> {{product.name}}<br>
    <b>Qty:</b> {{product.quantity}}<br>
  </div> -->
<div class="loader" ng-show="loading"></div>
