<div class="col-sm-12">

  <div class="col-md-offset-3">

    <h1 ng-if="session.client.addresses.length > 0">Choose a shipping address</h1>
    <h1 ng-if="session.client.addresses == null || session.client.addresses.length == 0">Enter a shipping address</h1>

    <div class="row" ng-if="!isOnlineSponsoring">
      <div class="col-xs-6 col-lg-4 checkout-address" ng-repeat="addressData in session.client.addresses">
        <span class="address-name">{{addressData.name}}</span>
        <span class="address-street">{{addressData.address1}} {{addressData.address2}}</span>
        <span class="address-region">{{addressData.city}}, {{addressData.state}} {{addressData.zip}}</span>
        <span class="phone-number">{{addressData.phone}}</span>
        <div class="address-actions">
          <a href="" ng-click="editAddress(addressData.id)"><i class="fa fa-pencil-square-o"></i> Edit</a>
          &nbsp;&nbsp;
          <a href="" ng-click="removeAddress(addressData.id)"><i class="fa fa-times-circle"></i> Remove</a>
        </div>
        <a href="" class="btn btn-primary" ng-click="selectShippingAddressAndContinue(addressData)">Ship to this Address</a>
      </div><!-- /address -->

    </div>

    <!--<hr ng-if="profile.customerStatus=='existing'">-->
  </div><!-- /offset -->

  <form name="shippingForm" class="form-horizontal" role="form" novalidate>

    <div class="row form-group" ng-if="!isOnlineSponsoring">
      <label for="shippingFullName" class="col-md-3 control-label">Full Name</label>
      <div class="col-sm-8 col-lg-6">
        <input id="shippingFullName" name="name" ng-model="profile.newShippingAddress.name" type="text" class="form-control" placeholder="" required>
      </div>
    </div>

    <div class="row form-group">
      <label for="shippingAddress1" class="col-md-3 control-label">Address Line 1</label>
      <div class="col-sm-8 col-lg-6" ng-class="{ 'has-error' : shippingForm.newShippingAddress.address1.$invalid && !shippingForm.newShippingAddress.address1.$pristine }">
      <!-- ng-pattern="/^[a-zA-Z0-9\s,'-]*$/" causing api validation to fail. -->
        <input id="shippingAddress1" name="address1" ng-model="profile.newShippingAddress.address1" type="text" class="form-control" placeholder="Street address, P.O. box, company name, c/o " autofocus required>
        <span ng-show="shippingForm.newShippingAddress.address1.$invalid && !shippingForm.newShippingAddress.address1.$pristine" class="help-block text-danger">Please Enter a Valid Address.</span>
      </div>
    </div>

    <div class="row form-group">
      <label for="shippingAddress2" class="col-md-3 control-label">Address Line 2</label>
      <div class="col-sm-8 col-lg-6" ng-class="{ 'has-error' : shippingForm.newShippingAddress.address2.$invalid && !shippingForm.newShippingAddress.address2.$pristine }">
      <!--  ng-pattern="/^[a-zA-Z0-9\s,'-]*$/" -->
        <input id="shippingAddress2" name="address2" ng-model="profile.newShippingAddress.address2" type="text" class="form-control" placeholder="Apartment, suite, unit, building, floor, etc. ">
        <span ng-show="shippingForm.newShippingAddress.address2.$invalid && !shippingForm.newShippingAddress.address2.$pristine" class="help-block text-danger">Please enter a valid address.</span>
      </div>
    </div>

    <div class="row form-group">
      <label for="shippingCity" class="col-md-3 control-label">City</label>
      <div class="col-sm-7 col-lg-5" ng-class="{ 'has-error' : shippingForm.newShippingAddress.city.$invalid && !shippingForm.newShippingAddress.city.$pristine }">
        <input id="shippingCity" name="city" ng-pattern="/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/" ng-model="profile.newShippingAddress.city" type="text" class="form-control" placeholder="City" required>
        <span ng-show="shippingForm.newShippingAddress.city.$invalid && !shippingForm.newShippingAddress.city.$pristine" class="help-block text-danger">Please enter a valid city name.</span>
      </div>
    </div>
    <div class="row form-group">
      <label for="shippingStateProvinceRegion" class="col-md-3 control-label">State/Province/Region</label>
      <!-- TO-DO: Fix CSS width of form control -->
      <div class="col-sm-5 col-lg-3" ng-class="{ 'has-error' : shippingForm.newShippingAddress.state.$invalid && !shippingForm.newShippingAddress.state.$pristine }">
        <form>
          <select name="state" class="form-control" id="shippingStateProvinceRegion" ng-model="profile.newShippingAddress.state" required>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="DC">District Of Columbia</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select>
        </form>
        <span ng-show="shippingForm.newShippingAddress.state.$invalid && !shippingForm.newShippingAddress.state.$pristine" class="help-block text-danger">Please select a state.</span>
        <!-- Removed for now to add the Select tag for 50 states -->
        <!--input id="shippingStateProvinceRegion" name="stateProvinceRegion" ng-model="profile.newShippingAddress.stateProvinceRegion" type="text" class="form-control" placeholder=" " required-->
      </div>
    </div>

    <div class="row form-group">
      <label for="shippingZipPostalCode" class="col-md-3 control-label">Zip/Postal Code</label>
      <div class="col-sm-5 col-lg-3" ng-class="{ 'has-error' : shippingForm.newShippingAddress.zip.$invalid && !shippingForm.newShippingAddress.zip.$pristine }">
        <input id="shippingZipPostalCode" name="zip" ng-pattern="/(^\d{5}$)|(^\d{5}-\d{4}$)/" ng-model="profile.newShippingAddress.zip" type="text" class="form-control" placeholder="55555" maxlength="10" required>
      </div>
    </div>

    <div class="row form-group">
      <label for="shippingCountry" class="col-md-3 control-label">Country</label>
      <div class="col-sm-5 col-lg-3">
        <select id="shippingCountry" data-ng-init="profile.newShippingAddress.country='US'" name="country" ng-model="profile.newShippingAddress.country" class="form-control">
          <option ng-selected="true" value="US">United States</option>
        </select>
      </div>
    </div>

    <div class="row form-group" ng-if="!isOnlineSponsoring" ng-class="{ 'has-error' : shippingForm.phoneNumber.$invalid && !shippingForm.phoneNumber.$pristine }">
      <label for="shippingPhoneNumber" class="col-md-3 control-label">Phone Number</label>
      <div class="col-sm-6 col-lg-4">
        <input id="shippingPhoneNumber" name="phoneNumber" ng-model="profile.newShippingAddress.phone" type="text" ui-mask="(999) 999-9999" placeholder="(xxx) xxx-xxxx" class="form-control" required>
        <span ng-show="shippingForm.phoneNumber.$error.pattern" class="help-block" ng-class="{ 'text-danger' : shippingForm.phoneNumber.$invalid && !shippingForm.phoneNumber.$pristine }">Phone Number needs to be at least 10 numbers.</span>
      </div>
      <a popover="May be printed on shipping label to assist delivery." popover-title="Phone Number" href="" class="form-info-link"><i class="fa fa-info-circle"></i> More Info</a>
    </div>


    <div class="col-md-offset-3">

      <hr>

    </div> <!-- /offset -->

    <div class="row form-group">
      <div class="col-md-offset-3 col-sm-9">
        <div class="error" ng-show="shippingAddressError" ng-bind="shippingAddressError"></div>
        <button type="button" class="btn btn-primary btn-lg" ng-disabled="!shippingForm.$valid" ng-click="addShippingAddressAndContinue(profile.newShippingAddress)">Ship to this address &nbsp;<i class="fa fa-caret-right"></i></button>
      </div>
    </div>

  </form>

</div><!--/span-->
