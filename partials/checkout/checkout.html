<section class="row store-checkout container" ng-controller="CheckoutController">

  <wizard name="checkoutWizard" hide-indicators="false" on-finish="finished()" current-step="currentStep">

    <!-- sign in -->
    <wz-step title="Start">

      <div class="col-sm-12">

        <div class="col-md-offset-3">
          <h1>Sign in to complete your order</h1>
        </div>
        valid={{signInForm.$valid}}
        <form name="signInForm" class="form-horizontal" role="form">
            <div class="form-group">
              <label for="inputEmail3" class="col-md-3 control-label">Email Address</label>
              <div class="col-sm-6">
                <input name="loginEmail" ng-model="checkout.loginEmail" ng-change="checkoutUpdated()" type="email" class="form-control" id="inputEmail3" placeholder="Email" tabindex="1" required>
                valid={{signInForm.loginEmail.$valid}}
              </div>
            </div>

            <div class="form-group">
              <label for="inputPassword3" class="col-md-3 control-label">Password</label>
              <div class="col-sm-4">
                <input name="loginPassword" ng-model="checkout.loginPassword" ng-change="checkoutUpdated()" type="password" class="form-control" id="inputPassword3" placeholder="Password" tabindex="2" required>
              </div>
            </div>

            <div class="form-group">
              <div class="col-md-offset-3 col-sm-9">
                <div class="radio">
                  <label>
                    <input name="customerStatus" ng-model="checkout.customerStatus" ng-change="checkoutUpdated()" type="radio" id="optionsRadios1" value="new">
                    I am a new customer
                  </label>
                </div>
                <div class="radio">
                  <label>
                    <input name="customerStatus" ng-model="checkout.customerStatus" ng-change="checkoutUpdated()" type="radio" id="optionsRadios2" value="existing">
                    I am an existing customer
                  </label>
                </div>
                customerStatus={{checkout.customerStatus}}
                <div class="row"><div class="col-sm-6"><hr></div></div>
                <div class="checkbox">
                  <label>
                    <input name="keepMeSignedIn" ng-model="checkout.keepMeSignedIn" ng-change="checkoutUpdated()" type="checkbox" checked> Keep me signed in &nbsp;&nbsp;
                    <a href="#"><i class="fa fa-info-circle"></i> More Info</a>
                  </label>
                </div>
              </div>
            </div>

            <div class="form-group">
              <div class="col-md-offset-3 col-sm-9">
                <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                  <button type="submit" class="btn btn-primary btn-lg" tabindex="3" wz-next ng-disabled="!signInForm.$valid">Continue to Secure Checkout &nbsp;<i class="fa fa-caret-right"></i></button>

                </div>
              </div>
            </div>

            <div class="form-group">
              <div class="col-md-offset-3 col-sm-9">
                <div class="row"><div class="col-sm-6"><hr></div></div>
                <p><a href="#">Checkout as guest</a></p>
                <p><a href="#">I forgot my password</a></p>
                <p><a href="#">I have a new email address</a></p>
              </div>
            </div>
        </form>
      </div><!--/span-->

    </wz-step>
    <wz-step title="Shipping">

      <div class="col-sm-12">

          <div class="col-md-offset-3">

            <h1 ng-if="checkout.customerStatus=='existing'">Choose a shipping address</h1>

            <div class="row" ng-if="checkout.customerStatus=='existing'">
              <div class="col-xs-6 col-lg-4 checkout-address">
                <span class="address-name">Jenny Miller</span>
                <span class="address-street">123 Main St.</span>
                <span class="address-region">Los Angeles, CA 90210</span>
                <span class="phone-number">Phone: (310) 555-1212</span>
                <div class="address-actions">
                  <a href="#"><i class="fa fa-pencil-square-o"></i> Edit</a>
                  &nbsp;&nbsp;
                  <a href="#"><i class="fa fa-times-circle"></i> Remove</a>
                </div>
                <a href="#" class="btn btn-primary" wz-next>Ship to this Address</a>
              </div><!-- /address -->
              <div class="col-xs-6 col-lg-4 checkout-address">
                <span class="address-name">Alana Torres</span>
                <span class="address-street">123 Main St.</span>
                <span class="address-region">Los Angeles, CA 90210</span>
                <span class="phone-number">Phone: (310) 555-1212</span>
                <div class="address-actions">
                  <a href="#"><i class="fa fa-pencil-square-o"></i> Edit</a>
                  &nbsp;&nbsp;
                  <a href="#"><i class="fa fa-times-circle"></i> Remove</a>
                </div>
                <a href="#" class="btn btn-primary" wz-next>Ship to this Address</a>
              </div><!-- /address -->
            </div>

            <hr>
            <h2 class=" " ng-if="checkout.customerStatus=='existing'">Add a new address</h2>
            <h2 class=" " ng-if="checkout.customerStatus!='existing'">Enter your address</h2>

          </div><!-- /offset -->

          <form name="shippingForm" class="form-horizontal" role="form">
            <div class="row form-group">
              <label for="shippingFullName" class="col-md-3 control-label">Full Name</label>
              <div class="col-sm-8 col-lg-6">
                <input name="fullName" ng-model="checkout.shipping.fullName" ng-change="checkoutUpdated()" type="text" class="form-control" id="shippingFullName" placeholder="" tabindex="1" required>
              </div>
            </div>

            <div class="row form-group">
              <label for="shippingAddress1" class="col-md-3 control-label">Address Line 1</label>
              <div class="col-sm-8 col-lg-6">
                <input name="address1" ng-model="checkout.shipping.address1" ng-change="checkoutUpdated()" type="text" class="form-control" id="shippingAddress1" placeholder="Street address, P.O. box, company name, c/o " tabindex="2" required>
              </div>
            </div>

            <div class="row form-group">
              <label for="shippingAddress2" class="col-md-3 control-label">Address Line 2</label>
              <div class="col-sm-8 col-lg-6">
                <input name="address2" ng-model="checkout.shipping.address2" ng-change="checkoutUpdated()" type="text" class="form-control" id="shippingAddress2" placeholder="Apartment, suite, unit, building, floor, etc. " tabindex="3">
              </div>
            </div>

            <div class="row form-group">
              <label for="shippingCity" class="col-md-3 control-label">City</label>
              <div class="col-sm-7 col-lg-5">
                <input name="city" ng-model="checkout.shipping.city" type="text" ng-change="checkoutUpdated()" class="form-control" id="shippingCity" placeholder=" " tabindex="4" required>
              </div>
            </div>

            <div class="row form-group">
              <label for="shippingStateProvinceRegion" class="col-md-3 control-label">State/Province/Region</label>
              <div class="col-sm-6 col-lg-4">
                <input name="stateProvinceRegion" ng-model="checkout.shipping.stateProvinceRegion" ng-change="checkoutUpdated()" type="text" class="form-control" id="shippingStateProvinceRegion" placeholder=" " tabindex="5" required>
              </div>
            </div>

            <div class="row form-group">
              <label for="shippingZipPostalCode" class="col-md-3 control-label">Zip/Postal Code</label>
              <div class="col-sm-5 col-lg-3">
                <input name="zipPostalCode" ng-model="checkout.shipping.zipPostalCode" ng-change="checkoutUpdated()" type="text" class="form-control" id="shippingZipPostalCode" placeholder=" " tabindex="6" required>
              </div>
            </div>

            <div class="row form-group">
              <label for="shippingCountry" class="col-md-3 control-label">Country</label>
              <div class="col-sm-6 col-lg-4">
                <select name="country" ng-model="checkout.shipping.country" ng-change="checkoutUpdated()" class="form-control" id="shippingCountry" tabindex="7" required>
                  <option>United States</option>
                </select>
              </div>
            </div>

            <div class="row form-group">
              <label for="shippingPhoneNumber" class="col-md-3 control-label">Phone Number</label>
              <div class="col-sm-6 col-lg-4">
                <input name="phoneNumber" type="text" class="form-control" id="shippingPhoneNumber" placeholder=" " tabindex="8" required>
              </div>
              <a href="#" class="form-info-link"><i class="fa fa-info-circle"></i> More Info</a>
            </div>

            
            <div class="col-md-offset-3">

              <hr>
              <h2 class=" " style="display:inline-block">Delivery Preferences (optional)</h2>
              <a href="#" class="form-info-link"><i class="fa fa-info-circle"></i> What's this?</a>

            </div> <!-- /offset -->
            

            <div class="row form-group">
              <label for="shippingAddressType" class="col-md-3 control-label">Address Type</label>
              <div class="col-sm-6 col-lg-4">
                <select name="addressType" ng-model="checkout.shipping.addressType" ng-change="checkoutUpdated()" class="form-control" id="shippingAddressType" tabindex="9">
                  <option>Select an Address Type</option>
                  <option value="apartment">Apartment</option>
                  <option value="condo">Condominium</option>
                  <option value="house">House</option>
                </select>
              </div>
            </div>

            <div class="row form-group">
              <label for="shippingSecurityAccessCode" class="col-md-3 control-label">Security Access Code</label>
              <div class="col-sm-6 col-lg-4">
                <input name="securityAccessCode" ng-model="checkout.shipping.securityAccessCode" type="text" class="form-control" id="shippingSecurityAccessCode" placeholder="For buildings or gated communities" tabindex="10">
              </div>
            </div>

            <div class="col-md-offset-3">

              <hr>

            </div> <!-- /offset -->
            
            <div class="row form-group">
              <div class="col-md-offset-3 col-sm-9">
                <button type="submit" class="btn btn-primary btn-lg" tabindex=" " wz-next ng-disabled="!shippingForm.$valid">Ship to this address &nbsp;<i class="fa fa-caret-right"></i></button>
              </div>
            </div>
            
          </form>

      </div><!--/span-->

    </wz-step>
    <wz-step title="Payment">

      <div class="col-sm-12">

        <div class="col-md-offset-3" ng-if="checkout.customerStatus=='existing'">
            <h1>Select Payment Option 
              <span class="store-heading-description">
                You&rsquo;ll be able to review the order before being charged.
              </span>
            </h1>
          </div>

          <div class="col-md-offset-3" ng-if="checkout.customerStatus=='existing'">
            <div class="row">

              <div class="col-xs-6 col-lg-4" ng-repeat="ccData in existingCustomerData.creditCards">
                <div class="checkout-card clearfix" ng-class="{active: $first}">
                  <img src="http://placehold.it/46x30" class="pull-right">
                  <p class="card-number">
                      <span>&bull;&bull;&bull;&bull;</span>
                      <span>&bull;&bull;&bull;&bull;</span>
                      <span>&bull;&bull;&bull;&bull;</span>
                    <span>{{substr(ccData.cardNumber,-4,4)}}</span>
                  </p>
                  <p class="card-expiry pull-left">
                    <small>EXP:</small>
                    {{ccData.expMonth}}/{{substr(ccData.expYear,2,2)}}
                  </p>
                  <button class="btn btn-primary pull-right card-use-btn" wz-next>Use this Option <i class="fa fa-caret-right"></i></button>
                </div> 
                <div class="card-actions">
                  <a href="#"><i class="fa fa-pencil-square-o"></i> Edit</a>
                  &nbsp;&nbsp;
                  <a href="#"><i class="fa fa-times-circle"></i> Remove</a>
                </div>               
              </div><!-- /span -->
              
            </div>
          </div>
          
          <div class="col-md-offset-3" ng-if="checkout.customerStatus=='new'">
            <div class="row">

              <div class="col-xs-6 col-lg-4" ng-repeat="ccData in newCustomerData.creditCards" ng-if="  newCustomerData.creditCards">
                <div class="checkout-card clearfix" ng-class="{active: $first}">
                  <img src="http://placehold.it/46x30" class="pull-right">
                  <p class="card-number">
                      <span>&bull;&bull;&bull;&bull;</span>
                      <span>&bull;&bull;&bull;&bull;</span>
                      <span>&bull;&bull;&bull;&bull;</span>
                    <span>{{substr(ccData.cardNumber,-4,4)}}</span>
                  </p>
                  <p class="card-expiry pull-left">
                    <small>EXP:</small>
                    {{ccData.expMonth}}/{{substr(ccData.expYear,2,2)}}
                  </p>
                  <button class="btn btn-primary pull-right card-use-btn" wz-next>Use this Option <i class="fa fa-caret-right"></i></button>
                </div> 
                <div class="card-actions">
                  <a href="#"><i class="fa fa-pencil-square-o"></i> Edit</a>
                  &nbsp;&nbsp;
                  <a href="#"><i class="fa fa-times-circle"></i> Remove</a>
                </div>               
              </div><!-- /span -->
              
            </div>
          </div>

        
          <div class="row">
            <div class="col-md-offset-3 col-lg-8">
              <hr>
              <h2 class=" ">Add a new payment method</h2>
            </div>
          </div>
          valid={{paymentForm.$valid}}
          <form name="paymentForm" class="form-horizontal" role="form" novalidate>

            <div class="form-group" ng-class="{ 'has-error' : paymentForm.cardName.$invalid && !paymentForm.cardName.$pristine }">
              <label for=" " class="col-md-3 control-label">Name on Card</label>
              <div class="col-sm-6 col-lg-4">
                <input ng-model="checkout.cardName" ng-minlength="3" name="cardName" type="text" class="form-control" id=" " placeholder=" " tabindex=" " required>
                <span ng-show="paymentForm.cardName.$error.minlength" class="help-inline">Name on card is too short.</span>
              </div>
            </div>

            <div class="form-group" ng-class="{ 'has-error' : paymentForm.cardNumber.$invalid && !paymentForm.cardNumber.$pristine }">
              <label for=" " class="col-md-3 control-label">Card Number</label>
              <div class="col-sm-6 col-lg-4">
                <input ng-model="checkout.cardNumber" ng-minlength="13" ng-maxlength="16" maxlength="16" name="cardNumber" type="text" class="form-control" id=" " placeholder=" " tabindex=" " required>
                <span ng-show="paymentForm.cardNumber.$error.minlength" class="help-inline">Credit card needs to be at least 13 numbers.</span>
              </div>
            </div>
            <div class="form-group">
              <label for=" " class="col-md-3 control-label">Expiration</label>
              <div class="col-sm-5">
                <div class="row">
                  <div class="col-xs-4 col-sm-3 col-med-2" ng-class="{ 'has-error' : paymentForm.expMonth.$invalid && !paymentForm.expMonth.$pristine }">
                      <input ng-model="checkout.expMonth" ng-minlength="2" ng-maxlength="2" maxlength="2" name="expMonth" type="text" class="form-control col-sm-1" id=" " placeholder="MM" tabindex=" " required>
                  </div>
                  <div class="col-xs-1">
                    <label class="control-label">/</label>
                  </div>
                  <div class="col-xs-6 col-sm-4 col-med-3" ng-class="{ 'has-error' : paymentForm.expYear.$invalid && !paymentForm.expYear.$pristine }">
                    <input ng-model="checkout.expYear" ng-minlength="4" ng-maxlength="4" maxlength="4" name="expYear" type="text" class="form-control col-sm-3" id=" " placeholder="YYYY" tabindex=" " required>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group" ng-class="{ 'has-error' : paymentForm.securityCode.$invalid && !paymentForm.securityCode.$pristine }">
              <label for=" " class="col-md-3 control-label">Security Code</label>
              <div class="col-sm-5">
                <div class="row">
                  <div class="col-xs-4 col-sm-3 col-med-2">
                    <input ng-model="checkout.securityCode" ng-minlength="3" ng-maxlength="4" maxlength="4" name="securityCode" type="password" class="form-control col-sm-1" id=" " placeholder="&bull;&bull;&bull;" tabindex=" " required>
                  </div>
                  <div class="col-xs-6 col-sm-4 col-med-3">
                    <a href="#" class="form-info-link"><i class="fa fa-info-circle"></i> What's this?</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <div class="col-md-offset-3 col-sm-9">
                <div class="checkbox">
                  <label>
                    <input type="checkbox" checked> My billing &amp; shipping address are the same
                  </label>
                </div>
              </div>
            </div>
            
            <div class="form-group">
              <div class="col-md-offset-3 col-sm-9">
                <button type="submit" ng-click="addCard(checkout)" class="btn btn-primary btn-lg" tabindex=" " wz-next ng-disabled="!paymentForm.$valid">Add Card &nbsp;<i class="fa fa-caret-right"></i></button>
              </div>
            </div>
            
          </form>

      </div><!--/span-->

    </wz-step>
    <wz-step title="Review">

      <div class="col-sm-12">

        <div class="col-md-offset-3 col-lg-8">
            <h1>Review &amp; Confirm Order 
              <span class="store-heading-description">
                Clicking &ldquo;Place Order&ldquo; will charge your payment option in the ammount below.
              </span>
            </h1>
          </div>

          <div class="col-md-offset-3 col-lg-8">
            <h2 class="">Order Details</h2>
            <hr>

            <form class="form order-details" role="form">
              <a ng-href="#/cart" class="pull-right"><i class="fa fa-pencil-square-o"></i> make changes</a>
              <div class="form-group">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Qty</th>
                      <th>Description</th>
                      <th align="right">Price</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>1</td>
                      <td>
                        <p class="confirmation-description">
                          Product Description
                        </p>
                      </td>
                      <td align="right">$18.00</td>
                    </tr>
                    <tr>
                      <td>2</td>
                      <td>
                        <p class="confirmation-description">
                          Product Description
                        </p>
                      </td>
                      <td align="right">$33.00</td>
                    </tr>
                    <tr>
                      <td>1</td>
                      <td>
                        <p class="confirmation-description">
                          Product Kit Description
                        </p>
                        <ul>
                          <li>1 Item Title #1234</li>
                          <li>1 Item Title #1234</li>
                          <li>1 Item Title #1234</li>
                          <li>1 Item Title #1234</li>
                        </ul>
                      </td>
                      <td align="right">$69.00</td>
                    </tr>
                  </tbody>
                  <tfoot>
                    <tr>
                      <td colspan="3">
                        <p>Subtotal: $120.00</p>
                        <p>Shipping: $15.00</p>
                        <p>Tax: 8.25%</p>
                        <p class="lead"><b>Total Charges: $144.90</b></p>
                      </td>
                    </tr>
                  </tfoot>
                </table>

              </div>

              <div class="form-group text-right">
                <label class="checkbox-inline">
                  <input type="checkbox" value="">
                  I aggree to the <a href="#">Terms and Conditions</a>
                  &nbsp;&nbsp;&nbsp;&nbsp;
                </label>
                <button type="button" class="btn btn-link pull-left" tabindex=" ">Cancel Order</button>
                <button type="submit" class="btn btn-primary btn-lg" tabindex=" " wz-next>Place Order &nbsp;<i class="fa fa-caret-right"></i></button>
              </div>
            </form>
          </div>

      </div><!--/span-->

    </wz-step>
    <wz-step title="Finish">

      <div class="col-sm-12">

        <div class="col-md-offset-3 col-lg-8">
          <a href="#" class="pull-right"><i class="fa fa-print"></i> Print this page</a>
          <h1>Thank you!
                    <span class="store-heading-description">
                      We have received your order and will be processing it shortly.
                    </span>
                  </h1>
        </div>

        <div class="col-md-offset-3 col-lg-8">
          <h2 class="">Confirmation Number: <label style="color:black;">1234567890</label></h2>
          <hr>

          <form class="form order-details" role="form">
            <div class="form-group">
              <table class="table">
                <thead>
                  <tr>
                    <th>Qty</th>
                    <th>Description</th>
                    <th align="right">Price</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>
                      <p class="confirmation-description">
                        Product Description
                      </p>
                    </td>
                    <td align="right">$18.00</td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>
                      <p class="confirmation-description">
                        Product Description
                      </p>
                    </td>
                    <td align="right">$33.00</td>
                  </tr>
                  <tr>
                    <td>1</td>
                    <td>
                      <p class="confirmation-description">
                        Product Kit Description
                      </p>
                      <ul>
                        <li>1 Item Title #1234</li>
                        <li>1 Item Title #1234</li>
                        <li>1 Item Title #1234</li>
                        <li>1 Item Title #1234</li>
                      </ul>
                    </td>
                    <td align="right">$69.00</td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td colspan="3">
                      <p>Subtotal: $120.00</p>
                      <p>Shipping: $15.00</p>
                      <p>Tax: 8.25%</p>
                      <p class="lead"><b class="text-success"><i class="fa fa-check"></i> Successfully Charged: $144.90</b></p>
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>

          </form>
          <h2 class="">How to track your order</h2>
          <hr>
          <p>Lorem Ipsum</p>

        </div>

      </div><!--/span-->

    </wz-step>
  </wizard>

</section><!--/row-->
